:root {
  /* Golden Academia / Ilua palette */
  --bg: transparent;          /* let Notion’s white show through */
  --peach-soft: #ffe0c5;
  --peach-mid: #ffc485;
  --peach-deep: #ffb16a;
  --brown-text: #64473a;      /* Notion brown text colour */
  --panel-white: #ffffff;
  --panel-radius: 14px;
}

/* Reset / base */
*,
*::before,
*::after {
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* iframe container: let it take the column width but with a fixed height */
html, body {
  margin: 0;
  padding: 0;

  /* allow the iframe to match the column width */
  width: 100%;
  height: 340px;         /* panel + chart fit comfortably in this height */
  font-family: system-ui, -apple-system, "SF Pro Text", Segoe UI, sans-serif;
  background: transparent;
  overflow: hidden;

  /* center the wrapper */
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Wrapper that holds panel + glow + stars + chart */
.wrap {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;    /* center chart horizontally */
  align-items: center;        /* center vertically */
  padding: 0;
  overflow: visible;
  pointer-events: none;       /* ensure panel doesn't steal clicks (canvas remains interactive if needed) */
}

/* Fixed white panel behind the chart (prevents visual shrinking) */
.panel {
  position: absolute;
  z-index: 0;
  width: 420px;               /* medium-large panel width */
  height: 360px;              /* panel height slightly taller than the chart for padding */
  background: var(--panel-white);
  border-radius: var(--panel-radius);
  box-shadow: 0 8px 24px rgba(0,0,0,0.06);
  border: 1px solid rgba(0,0,0,0.03);
  transform: translateZ(0);   /* make a composite layer for smoothness */
  pointer-events: none;       /* clicks pass through */
}

/* soft glitter haze (keeps using pseudo or element; we keep pseudo for lighter DOM) */
.wrap::before {
  content: "";
  position: absolute;
  z-index: 1;
  width: 360px;
  height: 360px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  pointer-events: none;
  opacity: 0.9;
  background: radial-gradient(
    circle,
    rgba(255, 188, 141, 0.30) 0%,
    rgba(255, 224, 197, 0.16) 45%,
    rgba(255, 224, 197, 0) 75%
  );
}

/* Chart – placed above the panel and glow */
#radarChart {
  position: relative;
  z-index: 2;                 /* above glow and panel */
  width: 340px;               /* visual chart size */
  height: 340px;
  max-width: none;
  max-height: none;
  margin: 0 auto;
  display: block;
  pointer-events: auto;       /* keep interactive if you have hover effects */
}

/* stars container left for semantic grouping (stars absolute inside it) */
.stars {
  position: absolute;
  z-index: 3;
  width: 420px;
  height: 360px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

/* tiny twinkling stars (absolute positions set inline or via style attr) */
.star {
  position: absolute;
  color: var(--peach-deep);
  opacity: 0.9;
  font-size: 20px;
  transform-origin: center center;
  animation: twinkle 2.6s infinite ease-in-out;
}

/* slight animation variations */
.star:nth-child(odd) { animation-duration: 2.3s; }
.star:nth-child(even) { animation-duration: 3.0s; }

@keyframes twinkle {
  0%, 100% { opacity: 0.75; transform: scale(0.92); }
  50%      { opacity: 1;    transform: scale(1);   }
}

/* small responsive fallback: if the column is extremely narrow, allow internal scroll horizontally */
@media (max-width: 460px) {
  .panel { width: 360px; height: 320px; }
  .stars { width: 360px; height: 320px; transform: translate(-50%, -50%); }
  #radarChart { width: 300px; height: 300px; }
  .wrap::before { width: 280px; height: 280px; }
  html, body { height: 320px; }
}
